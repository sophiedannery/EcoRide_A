{% extends 'base.html.twig' %}

{% block title %}Modifier mon profil
{% endblock %}

{% block body %}


	<section class="py-5">
		<div class="container">
			<h1 class="hero-heading mb-0">Mon profil</h1>
			<p class="trext-muted mb-5">Gérer vos informations personnelles ici.</p>
			<div class="row">
				<div class="col-lg-7 mb-5 mb-lg-0">

					<div class="text-block">
						<h5>Mes infos</h5>
						<p class="text-sm text-muted">
							<i class="fa fa-id-card fa-fw me-2"></i>
							<strong>Pseudo :</strong>
							{{app.user.pseudo}}<br>
							<i class="fa fa-envelope-open fa-fw me-2"></i>
							<strong>E-mail :</strong>
							{{app.user.email}}<br>
							<i class="fa-solid fa-tag fa-fw me-2"></i>
							<strong>Statut :</strong>
							{{app.user.statut}}<br>
							<i class="fa-solid fa-coins fa-fw me-2"></i>
							<strong>Crédits :</strong>
							{{app.user.credits}}
							<br>

						</p>
					</div>


					<div class="text-block">
						<h5>Ma photo</h5>
						<p class="text-sm text-muted">
							Modifier ma photo de profil
							{% if app.user.photoFilename %}
								<div>
									<img src="{{ asset('uploads/photos/' ~ app.user.photoFilename) }}" alt="Photo de profil de {{ app.user.pseudo }}" style="width: 150px; height: 150px; object-fit: cover; border-radius: 50%;"></div>
								{# <a href="{{ path ('app_account_edit') }}" class="btn btn-outline-primary">Modifier ma photo</a> #}
							{% else %}
								<p>Aucune photo de profil enregistrée.</p>

							{% endif %}


							{{ form_errors(profileForm) }}

							{{ form_start(profileForm, {
      action: path('app_account_edit'),
      method: 'POST',
      attr: { enctype: 'multipart/form-data' }
  }) }}
							{{ form_row(profileForm.photoFile) }}
							{{ form_errors(profileForm.photoFile) }}

							<button class="btn btn-primary" type="submit">Enregistrer</button>
							<a href="{{ path('app_account') }}" class="btn btn-secondary">Annuler</a>
							{{ form_end(profileForm) }}
						</p>
					</div>

				</div>
				<div class="col-md-8 col-lg-4 ms-lg-auto"></div>
			</div>
		</div>
	</section>


{% endblock %}
