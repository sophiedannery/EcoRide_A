{% extends 'base.html.twig' %}

{% block title %}Mon Espace
{% endblock %}

{% block body %}


	<div class="card text-center">
		<div class="card-header">
			<ul class="nav nav-tabs card-header-tabs">
				<li class="nav-item">
					<a class="nav-link" href="#">Mon profil</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="{{ path ('app_account_reservations') }}">Mes réservations</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="{{ path ('app_account_trajets') }}">Mes trajets</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="{{ path ('app_account_vehicules') }}">Mes véhicules</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="{{ path ('app_account_preferences') }}">Mes préférences</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="{{ path ('app_account_statut') }}">Mon statut</a>
				</li>
				<li class="nav-item">
					<a class="nav-link active" aria-current="true" href="{{ path ('app_account_avis') }}">Mes avis</a>
				</li>
			</ul>
		</div>
		<div class="card-body">

			<h5 class="card-title">Mes avis</h5>

			<p class="card-text">

				{% if avisRecus is empty %}
					Vos avis apparaitront ici.
				{% else %}
					<table class="table table-striped">
						<thead>
							<tr>

								<th>Date</th>
								<th>Passager</th>
								<th>Note</th>
								<th>Commentaire</th>

							</tr>
						</thead>

						<tbody>
							{% for avis in avisRecus %}

								<tr>
									<td>{{ avis.date_creation ? avis.date_creation|date('d/m/Y H:i') : '—' }}</td>
									<td>{{ avis.pseudo_passager ?: '—' }}</td>
									<td>
										{% for i in 1..5 %}
											{% if i <= avis.note %}
												<i class="fa-solid fa-star" style="color: #FFD700;"></i>
											{% else %}
												<i class="fa-regular fa-star" style="color: #FFD700;"></i>
											{% endif %}
										{% endfor %}
									</td>
									<td>
										{% if avis.commentaire %}
											{{ avis.commentaire}}
										{% else %}
											-
										{% endif %}
									</td>
								</tr>
							{% endfor %}
						</tbody>
					</table>
				{% endif %}
			</p>
		</div>
	{% endblock %}
